"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[96],{7808:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var a=n(1420),r=n(5784),s=n(8960),l=n(4820),o=n(216),i=n(8740),c=n(5008),u=n(4488),d=n(880),h=n(7092);const x=(0,d._)({baseUrl:""}),m=(0,h.KS)({baseQuery:x,tagTypes:["User"],endpoints:e=>({})}),p="/api/users",g=m.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"".concat(p,"/auth"),method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"".concat(p,"/logout"),method:"POST"})}),register:e.mutation({query:e=>({url:"".concat(p),method:"POST",body:e})}),updateUser:e.mutation({query:e=>({url:"".concat(p,"/profile"),method:"PUT",body:e})})})}),{useLoginMutation:f,useLogoutMutation:y,useRegisterMutation:b,useUpdateUserMutation:j}=g;var S=n(5072);const N={userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},v=(0,S.is)({name:"auth",initialState:N,reducers:{setCredentials:(e,t)=>{e.userInfo=t.payload,localStorage.setItem("userInfo",JSON.stringify(t.payload))},logout:(e,t)=>{e.userInfo=null,localStorage.removeItem("userInfo")}}}),{setCredentials:I,logout:w}=v.actions;v.reducer;var k=n(5700),A=n(7496),C=n(1724),F=n(5512),M=n(908),L=n(560),O=n(5544),R=n(3744);const D=(0,s.c)({root:{flexShrink:0,borderRadius:"4px",border:"2px solid #EC4E49",background:"#191919",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontStyle:"normal",fontWeight:400,lineHeight:"normal",color:"#FFF","&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiOutlinedInput-root":{"&::focus fieldset":{border:"none"}},"& .MuiInputAdornment-root .MuiSvgIcon-root":{color:"#FFF"}}}),W=e=>{let{type:t,value:n,onChange:a,label:r,placeholder:s,fullWidth:l,style:o,...i}=e;const c=D();return(0,R.jsx)(O.c,{style:o,fullWidth:l,type:t,value:n,onChange:a,label:r,placeholder:s,...i,className:c.root,sx:{"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}},"& .MuiInputAdornment-root .MuiSvgIcon-root":{color:"white"}},required:!0})};var E=n(596),z=n(4800),B=n(2724),H=n(7713),T=n(464);const U=(0,s.c)({root:{width:"400px",height:"50px",flexShrink:0,borderRadius:"4px",border:"2px solid #EC4E49",background:"#191919",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontStyle:"normal",fontWeight:400,lineHeight:"normal",color:"#FFF","&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiOutlinedInput-root":{"&::focus fieldset":{border:"none"}}}}),G=e=>{let{showCubeIcon:t,showEyeIcon:n,value:r,onChange:s}=e;const l=U(),[o,i]=(0,a.useState)(!1),c=e=>{const t=e.match(/[A-Z]/g)||[],n=e.match(/[a-z]/g)||[],a=e.match(/[!@#$%^&*()_+]/g)||[];return t.length>=2&&n.length>=2&&a.length>=2&&e.length>=10};return(0,R.jsx)(O.c,{type:o?"text":"password",fullWidth:!0,required:!0,placeholder:"*******************",name:"password",value:r,onChange:s,className:l.root,sx:{"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}}},InputProps:{endAdornment:(0,R.jsxs)(E.c,{position:"end",children:[t&&(0,R.jsx)(z.c,{onClick:()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+";for(;e.length<10||!c(e);)e=Array.from({length:10},(()=>t[Math.floor(74*Math.random())])).join("");s({target:{value:e}})},children:(0,R.jsx)(T.c,{})}),n&&(0,R.jsx)(z.c,{"aria-label":"toggle password visibility",onClick:()=>{i(!o)},onMouseDown:e=>{e.preventDefault()},children:o?(0,R.jsx)(H.c,{}):(0,R.jsx)(B.c,{})})]})}})},P=(0,s.c)({root:{maxWidth:"100%",height:"100%",display:"flex",flexDirection:"column",margin:"30px 40px"},textBox:{display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"20px"},text1:{fontFamily:"Ubuntu, sans-serif",fontSize:"32px",fontStyle:"normal",fontWeight:700,lineHeight:"normal"},text2:{textAlign:"center",fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontStyle:"normal",fontWeight:400,lineHeight:"normal"},form:{display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px",marginTop:"65px"},formGroup:{},label:{display:"flex",alignItems:"flex-start",fontFamily:"Ubuntu, sans-serif",fontSize:"12px",fontStyle:"normal",fontWeight:700,lineHeight:"normal",marginBottom:"5px"},loginOrCreateAcc:{display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"20px",marginTop:"82px"},Button:{display:"flex",padding:"10px 30px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"7px",background:"#E94057"},text3:{color:"#E94057",textAlign:"center",fontFamily:"Montserrat, sans-serif",fontSize:"13px",fontStyle:"normal",fontWeight:400,lineHeight:"normal",textDecoration:"none"},passwordOptions:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"},checkbox:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontStyle:"normal",fontWeight:400,lineHeight:"normal"}}),q=()=>{const e=P(),{t:t}=(0,M.Gy)(),n=(0,u.OY)(),s=(0,r.i6)(),[d,h]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[p,{isLoading:g}]=f(),{userInfo:y}=(0,u.w1)((e=>e.auth));(0,a.useEffect)((()=>{y&&s("/",{replace:!0})}),[s,y]);return(0,R.jsxs)(l.c,{className:e.root,children:[(0,R.jsxs)(l.c,{className:e.textBox,children:[(0,R.jsx)(o.c,{variant:"h1",className:e.text1,children:t("Auth.Login.signIn")}),(0,R.jsx)(o.c,{variant:"h4",className:e.text2,children:t("Auth.Login.signInForFunction")})]}),(0,R.jsxs)(l.c,{className:e.form,children:[(0,R.jsxs)(k.c,{className:e.formGroup,children:[(0,R.jsx)("label",{htmlFor:"email",className:e.label,children:t("Auth.Login.yourUsername")}),(0,R.jsx)(W,{fullWidth:!0,style:{width:"400px",height:"50px"},type:"email",value:d,onChange:e=>h(e.target.value),placeholder:"re.align@user.com"})]}),(0,R.jsxs)(k.c,{className:e.formGroup,children:[(0,R.jsx)("label",{htmlFor:"password",className:e.label,children:t("Auth.Login.yourPassword")}),(0,R.jsx)(G,{value:x,onChange:e=>m(e.target.value),showEyeIcon:!0}),(0,R.jsxs)(l.c,{className:e.passwordOptions,children:[(0,R.jsx)(A.c,{control:(0,R.jsx)(C.c,{defaultChecked:!0}),label:t("Auth.Login.rememberPassword"),className:e.checkbox}),(0,R.jsx)(o.c,{variant:"body1",className:e.text3,children:(0,R.jsx)(c.cH,{to:"/auth/forgot-password",className:e.text3,children:t("Auth.Login.forgotPassword")})})]})]})]}),g&&(0,R.jsx)(i.c,{}),(0,R.jsxs)(l.c,{className:e.loginOrCreateAcc,children:[(0,R.jsx)(F.c,{disabled:g,variant:"primary",type:"button",onClick:async e=>{e.preventDefault();try{const e=await p({email:d,password:x}).unwrap();n(I({...e})),s("/",{replace:!0})}catch(a){var t;L.m4.error((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||a.error)}},className:e.Button,children:t("Auth.Login.signIn")}),(0,R.jsx)(o.c,{variant:"body1",className:e.text3,children:(0,R.jsx)(c.cH,{to:"/auth/register/step1",className:e.text3,children:t("Auth.Login.askForRegister")})})]})]})},X=(0,s.c)({root:{maxWidth:"100%",height:"100%",display:"flex",flexDirection:"column",margin:"30px 40px"},textBox:{display:"inline-flex",flexDirection:"column",alignItems:"flex-start",gap:"20px"},textBox2:{display:"inline-flex",flexDirection:"column",alignItems:"flex-start"},text1:{fontFamily:"Ubuntu, sans-serif",fontSize:"32px",fontStyle:"normal",fontWeight:700,lineHeight:"normal"},text2:{textAlign:"center",fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontStyle:"normal",fontWeight:400,lineHeight:"normal"},text3:{color:"#E94057",textAlign:"center",fontFamily:"Montserrat, sans-serif",fontSize:"13px",fontStyle:"normal",fontWeight:400,lineHeight:"normal",textDecoration:"none"},form:{display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:"30px",marginTop:"50px"},label:{display:"flex",alignItems:"flex-start",fontFamily:"Ubuntu, sans-serif",fontSize:"12px",fontStyle:"normal",fontWeight:700,lineHeight:"normal",marginBottom:"5px"},Button:{display:"flex",padding:"10px 30px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"7px",background:"#E94057"},loginOrCreateAcc:{display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"20px",marginTop:"82px"},firstLine:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",width:"100%"},thirdLine:{width:"100%",display:"flex",alignItems:"flex-start",justifyContent:"space-between"}}),Y=e=>{let{onNext:t}=e;const n=X(),{t:r}=(0,M.Gy)(),[s,i]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[g,f]=(0,a.useState)("");return(0,R.jsxs)(l.c,{className:n.root,children:[(0,R.jsxs)(l.c,{className:n.textBox,children:[(0,R.jsx)(o.c,{variant:"h1",className:n.text1,children:r("Auth.Register.Step1.whoAreYou")}),(0,R.jsxs)(l.c,{className:n.textBox2,children:[(0,R.jsx)(o.c,{variant:"h4",className:n.text2,children:r("Auth.Register.Step1.Welcome")}),(0,R.jsx)(o.c,{variant:"h4",className:n.text2,children:r("Auth.Register.Step1.letsStart")})]})]}),(0,R.jsxs)(l.c,{className:n.form,children:[(0,R.jsxs)(l.c,{className:n.firstLine,children:[(0,R.jsxs)(k.c,{className:n.formGroup,children:[(0,R.jsx)("label",{className:n.label,htmlFor:"firstName",children:r("Auth.Register.Step1.yourFirstName")}),(0,R.jsx)(W,{type:"text",placeholder:"John",style:{width:"200px",height:"50px",flexShrink:0},value:s,onChange:e=>i(e.target.value)})]}),(0,R.jsxs)(k.c,{className:n.formGroup,children:[(0,R.jsx)("label",{className:n.label,htmlFor:"lastName",children:r("Auth.Register.Step1.yourLastName")}),(0,R.jsx)(W,{type:"text",placeholder:"Doe",style:{width:"200px",height:"50px",flexShrink:0},value:u,onChange:e=>d(e.target.value)})]})]}),(0,R.jsx)(l.c,{className:n.secondLine,children:(0,R.jsxs)(k.c,{className:n.formGroup,children:[(0,R.jsx)("label",{className:n.label,htmlFor:"email",children:r("Auth.Register.Step1.yourEmail")}),(0,R.jsx)(W,{required:!0,fullWidth:!0,type:"email",placeholder:"re.align@user.com",style:{width:"440px",height:"50px"},value:g,onChange:e=>f(e.target.value)})]})}),(0,R.jsxs)(l.c,{className:n.thirdLine,children:[(0,R.jsxs)(k.c,{className:n.formGroup,children:[(0,R.jsx)("label",{className:n.label,htmlFor:"email",children:r("Auth.Register.Step1.yourUsername")}),(0,R.jsx)(W,{fullWidth:!0,id:"username",type:"text",placeholder:"Username",value:h,onChange:e=>x(e.target.value),style:{width:"200px",height:"50px",flexShrink:0},InputLabelProps:{shrink:!0}})]}),(0,R.jsxs)(k.c,{className:n.formGroup,children:[(0,R.jsx)("label",{className:n.label,htmlFor:"email",children:r("Auth.Register.Step1.yourBirthday")}),(0,R.jsx)(W,{fullWidth:!0,id:"date",type:"date",value:m,onChange:e=>p(e.target.value),style:{width:"200px",height:"50px",flexShrink:0}})]})]})]}),(0,R.jsxs)(l.c,{className:n.loginOrCreateAcc,children:[(0,R.jsx)(F.c,{variant:"primary",type:"button",onClick:()=>{if(!s||!u||!g||!m||!h)return void L.m4.error(r("Auth.Register.Step1.emptyFieldsError"));if(!(e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(String(e).toLowerCase()))(g))return void L.m4.error(r("Auth.Register.Step1.invalidEmailError"));const e=(e=>{const t=new Date(e),n=new Date;let a=n.getFullYear()-t.getFullYear();const r=n.getMonth()-t.getMonth();return(r<0||0===r&&n.getDate()<t.getDate())&&a--,a})(m);e<18?L.m4.error(r("Auth.Register.Step1.under18Error")):t({firstName:s,lastName:u,birthday:m,email:g,username:h})},className:n.Button,children:r("Auth.Register.Step1.proceed")}),(0,R.jsx)(o.c,{variant:"body1",className:n.text3,children:(0,R.jsx)(c.cH,{to:"/auth/login",className:n.text3,children:r("Auth.Register.Step1.askForLogin")})})]})]})},Z=(0,s.c)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),J=()=>{const e=Z();return(0,R.jsx)(l.c,{className:e.root,children:(0,R.jsx)(o.c,{variant:"h1",children:"Step 2"})})},_=(0,s.c)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),$=()=>{const e=_();return(0,R.jsx)(l.c,{className:e.root,children:(0,R.jsx)(o.c,{variant:"h1",children:"Step 2"})})},K=(0,s.c)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),Q=()=>{const e=K(),t=(0,u.OY)(),n=(0,r.i6)(),[s,o]=(0,a.useState)(1),[c,{isLoading:d}]=b(),{userInfo:h}=(0,u.w1)((e=>e.auth)),[x,m]=(0,a.useState)({firstName:"",lastName:"",username:"",email:"",password:"",birthday:"",agreementsAccepted:!1});(0,a.useEffect)((()=>{h&&n("/")}),[n,h]);const p=()=>{s<3&&(o(s+1),n("/auth/register/step".concat(s+1)))},g=()=>{s>1&&(o(s-1),n("/auth/register/step".concat(s-1)))},f=async e=>{e.preventDefault();const{password:a,confirmPassword:r,firstName:s,lastName:l,email:o,birthday:i,username:u}=x;if(a===r){try{const e=await c({firstName:s,lastName:l,username:u,email:o,birthday:i,password:a}).unwrap();t(I({...e})),n("/")}catch(h){var d;L.m4.error((null===h||void 0===h||null===(d=h.data)||void 0===d?void 0:d.message)||(null===h||void 0===h?void 0:h.message))}console.log("Einreichung der Registrierung: ",x)}else L.m4.error("Passw\xf6rter stimmen nicht \xfcberein")};return(0,R.jsxs)(l.c,{className:e.root,children:[(0,R.jsx)(a.Suspense,{fallback:(0,R.jsx)(i.c,{}),children:(0,R.jsxs)(r.c5,{children:[(0,R.jsx)(r.kX,{path:"/step1",element:(0,R.jsx)(Y,{onNext:e=>{m({...x,...e}),p()}})}),(0,R.jsx)(r.kX,{path:"/step2",element:(0,R.jsx)(J,{onNext:e=>{m({...x,...e}),p()},onBack:g})}),(0,R.jsx)(r.kX,{path:"/step3",element:(0,R.jsx)($,{onBack:g,onNext:e=>{m({...x,...e}),f()}})}),(0,R.jsx)(r.kX,{path:"*",element:(0,R.jsx)(r.YX,{replace:!0,to:"/auth/register/step1"})})]})}),d&&(0,R.jsx)(i.c,{})]})},V=n.p+"static/media/beatsmith-logo.b10ed96158cfd7c85585.png",ee=n.p+"static/media/Login.1d674f160d64de87e61f.png",te=n.p+"static/media/Step1.6976c3ff502b8331e302.png",ne=n.p+"static/media/Step2.9741a487abcf34ebbbae.png",ae=n.p+"static/media/Step3.c51f4a23638107162b2b.png",re=(0,s.c)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Container:{display:"flex",padding:"5% 3%",justifyContent:"center",alignItems:"center"},left:{width:"804px",height:"679px",flexShrink:0,borderRadius:"12px 0px 0px 12px",background:"linear-gradient(234deg, rgba(139, 36, 134, 0.50) -12.8%, rgba(174, 47, 117, 0.50) 27.91%, rgba(216, 59, 96, 0.50) 65.83%, rgba(237, 87, 63, 0.50) 94.27%)","@media (max-width: 769px)":{display:"none"}},right:{width:"516px",height:"679px",flexShrink:0,borderRadius:"0px 12px 12px 0px",background:"#12141B","@media (max-width: 769px)":{borderRadius:"12px"}},gradientOverlay:{background:"linear-gradient(234deg, rgba(139, 36, 134, 0.50) -12.8%, rgba(174, 47, 117, 0.50) 27.91%, rgba(216, 59, 96, 0.50) 65.83%, rgba(237, 87, 63, 0.50) 94.27%)",width:"100%",height:"100%",borderRadius:"12px 0px 0px 12px"},text:{color:"#F6F6F6",fontFamily:"Ubuntu, sans-serif",fontSize:"42px",fontStyle:"normal",fontWeight:700,lineHeight:"normal",textAlign:"left",margin:"146px 0 0 58px",width:"356px"},logo:{maxWidth:"100%",maxHeight:"100px",marginTop:"5px",backgroundColor:"#070911",borderRadius:"50%"}});function se(){const e=re();let t=(0,r.IT)();const{t:n}=(0,M.Gy)(),{backgroundImage:s,text:c}=le(t.pathname,n);return(0,R.jsx)(l.c,{className:e.root,children:(0,R.jsxs)(l.c,{className:e.Container,children:[(0,R.jsx)(l.c,{className:e.left,style:{backgroundImage:s},children:(0,R.jsxs)(l.c,{className:e.gradientOverlay,children:[(0,R.jsx)(l.c,{component:"img",src:V,alt:"ReAlign Logo",className:e.logo}),(0,R.jsx)(o.c,{variant:"h1",className:e.text,children:c})]})}),(0,R.jsx)(l.c,{className:e.right,children:(0,R.jsx)(a.Suspense,{fallback:(0,R.jsx)(i.c,{}),children:(0,R.jsxs)(r.c5,{location:t,children:[(0,R.jsx)(r.kX,{path:"/login",element:(0,R.jsx)(q,{})}),(0,R.jsx)(r.kX,{path:"/register/*",element:(0,R.jsx)(Q,{})})]},t.pathname)})})]})})}const le=(e,t)=>{switch(e){case"/auth/register/step1":return{backgroundImage:"url(".concat(te,")"),text:t("Layout.Auth.step1Text")};case"/auth/register/step2":return{backgroundImage:"url(".concat(ne,")"),text:t("Layout.Auth.step2Text")};case"/auth/register/step3":return{backgroundImage:"url(".concat(ae,")"),text:t("Layout.Auth.step3Text")};default:return{backgroundImage:"url(".concat(ee,")"),text:t("Layout.Auth.loginText")}}},oe=(0,a.memo)(se)}}]);
//# sourceMappingURL=96.7e613dcf.chunk.js.map